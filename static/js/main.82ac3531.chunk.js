(this.webpackJsonpmoncia=this.webpackJsonpmoncia||[]).push([[0],{106:function(e,t,c){},107:function(e,t,c){},108:function(e,t,c){},110:function(e,t,c){},111:function(e,t,c){},112:function(e,t,c){},113:function(e,t,c){},114:function(e,t,c){},117:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(34),i=c.n(r),o=(c(94),c(95),c(73)),s=c(81),d=c(74),l=(c(96),c(97),c(135)),j=c(35),u=c(3);function b(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(o.a,{bg:"light",variant:"light",children:Object(u.jsxs)(s.a,{children:[Object(u.jsx)(o.a.Brand,{as:j.b,to:"/",children:"MONCIA"}),Object(u.jsxs)(d.a,{className:"me-auto",children:[Object(u.jsx)(d.a.Link,{as:j.b,to:"/",children:"Productos"}),Object(u.jsxs)(l.a,{title:"Categorias",id:"basic-nav-dropdown",children:[Object(u.jsx)(l.a.Item,{as:j.b,to:"/categoria/1",children:"Promociones"}),Object(u.jsx)(l.a.Item,{as:j.b,to:"/categoria/2",children:"Lo mas Nuevo"})]})]})]})})})}var O=c(17),m=c(1),p=c.n(m),h=c(5),x=c(9),f=(c(106),c(107),c(52));function v(e){var t=e.cantidad,c=e.sumar,n=e.restar;return Object(u.jsxs)("div",{children:[Object(u.jsx)(f.a,{onClick:c,variant:"danger",children:"+"}),Object(u.jsxs)("label",{children:[t," "]}),Object(u.jsx)(f.a,{onClick:n,variant:"danger",children:"-"})]})}var g=c(6),C=c(28),N=Object(n.createContext)(),y=function(e){var t=e.children,c=Object(n.useState)([]),a=Object(x.a)(c,2),r=a[0],i=a[1],o={productos:r,"a\xf1adirProducto":function(e){0!==r.length?void 0===r.find((function(t){return t.id==e.id}))?(r.push(e),i(Object(C.a)(r))):alert("Ya has a\xf1adido este producto"):(r.push(e),i(Object(C.a)(r)))},eliminarProducto:function(e){var t;console.log(r);var c,n=Object(g.a)(r.entries());try{for(n.s();!(c=n.n()).done;){var a=Object(x.a)(c.value,2),o=a[0];a[1].id==e&&(t=o,console.log(t))}}catch(s){n.e(s)}finally{n.f()}r.splice(t,1),console.log(r),i(Object(C.a)(r))},vaciarCarro:function(){i([])}};return Object(u.jsx)(N.Provider,{value:o,children:t})},k=N,I=function(e){var t=e.data[0],c=Object(n.useState)(1),a=Object(x.a)(c,2),r=a[0],i=a[1],o=Object(n.useContext)(k).a\u00f1adirProducto;return Object(u.jsx)("div",{children:Object(u.jsx)("div",{className:"contenedorItems",children:Object(u.jsxs)("div",{className:"contenedorItems__item",children:[Object(u.jsx)("h2",{children:t.nombre}),Object(u.jsx)("img",{src:t.imagen,alt:"img"}),Object(u.jsx)("h3",{children:"Precio: $ ".concat(t.precio)}),Object(u.jsx)(v,{cantidad:r,sumar:function(){r===t.stock?alert("Cantidad igual a stock"):i(r+1)},restar:function(){r===t.inicial?alert("Cantidad igual a inicial"):i(r-1)}}),Object(u.jsx)("button",{type:"submit",className:"contenedorItems__item__boton",onClick:function(){t.cantidad=r,o(t)},children:"Comprar"}),Object(u.jsx)("p",{children:"".concat(t.detalles)})]})})})},_=(c(108),c(85)),P=c(22),S=Object(_.a)({apiKey:"AIzaSyBEpTVttO8xbp3Hk1Xo2upK2YWxPviEA7o",authDomain:"tiendamoncia.firebaseapp.com",projectId:"tiendamoncia",storageBucket:"tiendamoncia.appspot.com",messagingSenderId:"953492591977",appId:"1:953492591977:web:a416e3a683b8e57071d9f8"}),F=Object(P.d)(S);function w(){var e=Object(n.useState)([]),t=Object(x.a)(e,2),c=t[0],a=t[1],r=Object(O.f)().id;function i(){return(i=Object(h.a)(p.a.mark((function e(t){var n,i,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(P.e)(Object(P.b)(t,"productos"),Object(P.f)("id","==",Number(r))),e.next=3,Object(P.c)(n);case 3:return i=e.sent,o=i.docs.map((function(e){return e.data()})),a(o),console.log(c),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return console.log(r),Object(n.useEffect)((function(){!function(e){i.apply(this,arguments)}(F)}),[r]),0==c.length?Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Detalles"}),Object(u.jsx)("p",{children:"Cargando ...."})]}):Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Detalles"}),Object(u.jsx)(I,{data:c})]})}c(110),c(111);function D(e){var t=e.id,c=e.nombre,a=e.imagen,r=e.stock,i=e.inicial,o=e.precio,s=e.detalles,d=Object(n.useState)(i),l=Object(x.a)(d,2),b=l[0],O=l[1],m=Object(n.useContext)(k).a\u00f1adirProducto;return Object(u.jsx)("div",{style:{display:"inline"},children:Object(u.jsx)("div",{className:"contenedorItems",children:Object(u.jsxs)("div",{className:"contenedorItems__item",children:[Object(u.jsx)("h2",{children:c}),Object(u.jsx)("img",{src:a,alt:"img"}),Object(u.jsx)(v,{cantidad:b,sumar:function(){b===r?alert("Cantidad igual a stock"):O(b+1)},restar:function(){b===i?alert("Cantidad igual a inicial"):O(b-1)}}),Object(u.jsx)("h3",{children:"Precio: $ ".concat(o)}),Object(u.jsx)("button",{type:"submit",className:"contenedorItems__item__boton",onClick:function(){m({id:t,nombre:c,imagen:a,stock:r,inicial:i,precio:o,detalles:s,cantidad:b})},children:"Comprar"}),Object(u.jsx)("button",{type:"submit",className:"contenedorItems__item__boton",children:Object(u.jsx)(j.b,{to:"/detalles/".concat(t),children:"Detalle"})})]})})})}c(112);function A(e){return Object(u.jsx)("div",{children:0!==e.datos.length?e.datos.map((function(e,t){return Object(u.jsx)(D,{id:e.id,nombre:e.nombre,imagen:e.imagen,stock:e.stock,inicial:e.inicial,precio:e.precio,detalles:e.detalles},t)})):Object(u.jsx)("div",{children:Object(u.jsx)("p",{children:"Cargando Productos ...."})})})}function B(e){var t=e.greeting,c=Object(n.useState)([]),a=Object(x.a)(c,2),r=a[0],i=a[1],o=Object(O.f)().idCategoria;function s(){return(s=Object(h.a)(p.a.mark((function e(t){var c,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=1==o||2==o?Object(P.e)(Object(P.b)(t,"productos"),Object(P.f)("categoria","==",Number(o))):Object(P.b)(t,"productos"),e.next=3,Object(P.c)(c);case 3:return n=e.sent,a=n.docs.map((function(e){return e.data()})),i(a),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(e){s.apply(this,arguments)}(F)}),[o]),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:t}),Object(u.jsx)(A,{datos:r})]})}c(113);var E=c(87),T=c.n(E),W=(c(114),c(86)),L=c.n(W);function $(e){var t=e.clase,c=e.cerrar,a=Object(n.useContext)(k),r=a.productos,i=a.eliminarProducto,o=a.vaciarCarro,s="ocultar";0!==r.length&&(s="mostrar");var d,l={comprador:{name:"",correo:"",direccion:"",telefono:0},items:r,total:0},j=Object(g.a)(r);try{for(j.s();!(d=j.n()).done;){var b=d.value;l.total=l.total+b.precio*b.cantidad}}catch(m){j.e(m)}finally{j.f()}function O(){return(O=Object(h.a)(p.a.mark((function e(t){var c,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=t.items.length){e.next=4;break}alert("No hay compras por cofirmar"),e.next=9;break;case 4:return c=Object(P.b)(F,"pedidos"),e.next=7,Object(P.a)(c,t);case 7:n=e.sent,alert("El id de su orden es ".concat(n.id));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(u.jsxs)("div",{className:"".concat(t),children:[Object(u.jsxs)("div",{className:"divTitulo",children:[Object(u.jsx)("p",{children:"Carrito de Compras"}),Object(u.jsx)("h3",{onClick:c,className:"cerrar",children:"X"})]}),r.map((function(e){return Object(u.jsxs)("div",{className:"contenedorItem",children:[Object(u.jsx)("div",{children:Object(u.jsx)("img",{src:e.imagen})}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h4",{children:e.nombre}),Object(u.jsx)("p",{children:e.detalles}),Object(u.jsxs)("p",{children:["Cantidad: ","".concat(e.cantidad)]}),Object(u.jsx)("h4",{children:"$ ".concat(e.precio)}),Object(u.jsx)(L.a,{onClick:function(){return i(e.id)}})]})]})})),Object(u.jsx)("div",{children:"Total compra: $ ".concat(l.total)}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h6",{className:"tituloFormulario",children:"Completa tu Compra y disfruta tu producto"}),Object(u.jsxs)("form",{className:s,onSubmit:function(e){e.preventDefault();var t,c=!0,n=Object(g.a)(e.target);try{for(n.s();!(t=n.n()).done;){if(""==t.value.value){alert("Para completar su orden por favor diligenciar el formulario por completo"),c=!1;break}}}catch(m){n.e(m)}finally{n.f()}c&&(l.comprador.name=e.target[0].value,l.comprador.correo=e.target[1].value,l.comprador.direccion=e.target[2].value,l.comprador.telefono=e.target[3].value,console.log(l),function(e){O.apply(this,arguments)}(l),o())},children:[Object(u.jsx)("input",{className:"inputFormulario",type:"text",placeholder:"Nombre",name:"nombre"}),Object(u.jsx)("input",{className:"inputFormulario",type:"email",placeholder:"Correo electronico",name:"correo"}),Object(u.jsx)("input",{className:"inputFormulario",type:"text",placeholder:"Direccion de domicilio",name:"direccion"}),Object(u.jsx)("input",{className:"inputFormulario",type:"number",placeholder:"Numero de telefono",name:"numero"}),Object(u.jsx)("input",{className:"btnCofirmarOrden",type:"submit",value:"Confirmar Orden"})]})]})]})}var M=function(){var e=Object(n.useState)("CartWidgetCerrado"),t=Object(x.a)(e,2),c=t[0],a=t[1],r=Object(n.useContext)(k).productos,i=function(){a("CartWidgetCerrado"===c?"CartWidgetAbierto":"CartWidgetCerrado")};return Object(u.jsxs)("div",{className:"divShoppingCartIcon",children:[Object(u.jsx)(T.a,{onClick:i}),Object(u.jsx)("h4",{children:function(){var e=0;return r.map((function(t){e+=t.cantidad})),e}()}),Object(u.jsx)($,{clase:c,cerrar:i})]})};function J(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(j.a,{children:[Object(u.jsx)(b,{}),Object(u.jsx)(M,{}),Object(u.jsxs)(O.c,{children:[Object(u.jsx)(O.a,{path:"/detalles/:id",component:w}),Object(u.jsx)(O.a,{path:"/categoria/:idCategoria",component:B}),Object(u.jsx)(O.a,{path:"/cart",component:M}),Object(u.jsx)(O.a,{path:"/",children:Object(u.jsx)(B,{greeting:"Bienvenido a Tienda MONCIA"})})]})]})})}var K=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(y,{children:Object(u.jsx)(J,{})})})},X=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,136)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),r(e),i(e)}))};i.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(K,{})}),document.getElementById("root")),X()},94:function(e,t,c){},95:function(e,t,c){},97:function(e,t,c){}},[[117,1,2]]]);
//# sourceMappingURL=main.82ac3531.chunk.js.map